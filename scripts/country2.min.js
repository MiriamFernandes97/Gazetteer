class Country2{constructor(t){this.countryCode=t,this.population=null,this.capital=null,this.currency={name:null,symbol:null},this.area=null,this.polygon=null,this.boundingBox=null,this.cities=null,this.flag=null,this.countryName=null,this.earthquakes=null,this.monuments=null}getCountryInfo(){return $.ajax({url:"php/getCountryInfo.php",dataType:"json",type:"POST",data:{alpha2Code:this.countryCode}}).then(t=>(this.population=t.data.population,this.capital=t.data.capital,this.currency.name=t.data.currencies[0].name,this.currency.symbol=t.data.currencies[0].symbol,this.flag=t.data.flag,this.countryName=t.data.name,this.area=t.data.area,this)).catch((t,e,a)=>{alert(`${e} is the ERROR!!`)})}handleFail(){$("#modalTitle").html("Error"),$("#modalBody").html("Unfortunately there was an error finding a country for these coordinates. Please try a different location"),$("#infoModal").modal()}getPolygon(){return this.polygon?Promise.resolve(this.polygon):$.ajax({url:"php/getPolygon.php",dataType:"json",type:"POST",data:{country:this.countryCode,type:"code"}}).done(t=>(this.polygon=t,this.polygon)).fail((t,e,a)=>{alert(`${e} is the ERROR!!`)})}getBoundingBox(){return null==this.boundingBox?$.ajax({url:"php/getCombinedApiInfo.php",dataType:"json",type:"POST",data:{code:this.countryCode}}).then(t=>(console.log("logging result.data.boundingBox.geonames",t.data.boundingBox.geonames),this.boundingBox=t.data.boundingBox.geonames[0],this.boundingBox)).catch(()=>{$("#modalTitle").html("Error"),$("#modalBody").html("Unfortunately there was an error fetching the earthquake data. Please try selecting a different country"),$("#infoModal").modal()}):(console.log("existing boundingBox result",this.boundingBox),Promise.resolve(this.boundingBox))}getMonuments(){return this.monuments?Promise.resolve(this.monuments):$.ajax({url:"php/getMonuments.php",dataType:"json",type:"POST",data:{country:this.countryCode,countryBias:this.countryCode}}).then(t=>(this.monuments=t.data,this.monuments)).catch(()=>{$("#modalTitle").html("Error"),$("#modalBody").html("Unfortunately there was an error fetching the monument data. Please try selecting a different country"),$("#infoModal").modal()})}getCities(){return this.cities?Promise.resolve(this.cities):$.ajax({url:"php/getCityData.php",dataType:"json",type:"POST",data:{country:this.countryCode,countryBias:this.countryCode}}).then(t=>(this.cities=t.data,this.cities)).catch(()=>{$("#modalTitle").html("Error"),$("#modalBody").html("Unfortunately there was an error fetching city information. Please try again or select a different country."),$("#infoModal").modal()})}getEarthquakes(){return this.earthquakes?Promise.resolve(this.earthquakes):this.getBoundingBox().then(()=>null==this.earthquakes?$.ajax({url:"php/getEarthquakes.php",dataType:"json",type:"POST",data:{north:this.boundingBox.north,south:this.boundingBox.south,east:this.boundingBox.east,west:this.boundingBox.west}}):Promise.resolve({data:this.earthquakes})).then(t=>(this.earthquakes=t.data,this.earthquakes)).catch(()=>{$("#modalTitle").html("Error"),$("#modalBody").html("Unfortunately there was an error fetching the earthquake data. Please try selecting a different country"),$("#infoModal").modal()})}}